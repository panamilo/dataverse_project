{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milop\\\\dataverseproject\\\\Client\\\\src\\\\components\\\\Article\\\\ArticleAdd.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Box, FormControl, InputLabel, Input, TextField, Button, Select, MenuItem } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ArticleAdd() {\n  _s();\n\n  const navigate = useNavigate();\n  const emptyArticle = {\n    id: 0,\n    category_id: 0,\n    title: '',\n    description: '',\n    name: '',\n    author: ''\n  };\n  const [newArticle, setArticle] = useState([emptyArticle]);\n  const [categories, setCategories] = useState([{\n    id: 0,\n    name: '',\n    description: ''\n  }]);\n\n  function handleChange(e) {\n    setArticle({ ...newArticle,\n      [e.target.id]: e.target.value\n    });\n  }\n\n  useEffect(() => {\n    fetch('/api/categories', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    }).then(response => response.json()).then(result => {\n      setCategories(result);\n    });\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (newArticle.title == '' || newArticle.description == '' || newArticle.name == '' || newArticle.author == '') {\n      alert(\"Please complete the fields first\");\n      return;\n    } else {\n      await fetch(`/api/article/new`, {\n        method: \"POST\",\n        headers: {\n          accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newArticle)\n      }).then(response => response.json()).then(data => {\n        alert(data.message);\n\n        if (data.status) {\n          navigate('/articles');\n        }\n      });\n    }\n  };\n\n  const categoriesList = categories.map(category => {\n    return /*#__PURE__*/_jsxDEV(MenuItem, {\n      name: \"name\",\n      id: \"name\",\n      value: category.name,\n      children: category.name\n    }, category.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        font: 14\n      },\n      children: \"Add a new Article\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        m: \"auto\",\n        sx: {\n          width: 200,\n          height: 400\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"title\",\n              children: \"Enter Title: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"title\",\n              multiline: true,\n              value: newArticle.title || \"\",\n              onChange: handleChange,\n              label: \"title\",\n              variant: \"outlined\",\n              size: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"description\",\n              children: \"Enter Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"description\",\n              multiline: true,\n              value: newArticle.description || \"\",\n              onChange: handleChange,\n              label: \"description\",\n              variant: \"filled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"author\",\n              children: \"Enter Author's name: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"author\",\n              label: \"author\",\n              value: newArticle.author || \"\",\n              onChange: handleChange,\n              size: \"small\",\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"name\",\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"name\",\n              labelId: \"name\",\n              autoWidth: true,\n              value: newArticle.name,\n              defaultValue: \"\",\n              style: {\n                width: 200\n              },\n              onChange: handleChange,\n              children: categoriesList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"\",\n          style: {\n            marginRight: 38\n          },\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: e => handleSubmit(e),\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"error\",\n          onClick: () => {\n            navigate(\"/articles\");\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticleAdd, \"AzbRFtUKjUe/8D0YQOh8QB5QB78=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ArticleAdd;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleAdd\");","map":{"version":3,"names":["React","useState","useEffect","Box","FormControl","InputLabel","Input","TextField","Button","Select","MenuItem","useNavigate","ArticleAdd","navigate","emptyArticle","id","category_id","title","description","name","author","newArticle","setArticle","categories","setCategories","handleChange","e","target","value","fetch","headers","method","then","response","json","result","handleSubmit","preventDefault","alert","accept","body","JSON","stringify","data","message","status","categoriesList","map","category","textAlign","font","width","height","marginRight"],"sources":["C:/Users/milop/dataverseproject/Client/src/components/Article/ArticleAdd.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Box, FormControl, InputLabel, Input, TextField, Button, Select, MenuItem } from '@mui/material'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function ArticleAdd() {\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const emptyArticle = {\r\n\r\n    id: 0,\r\n    category_id: 0,\r\n    title: '',\r\n    description: '',\r\n    name: '',\r\n    author: ''\r\n  }\r\n\r\n  const [newArticle, setArticle] = useState([emptyArticle])\r\n  const [categories, setCategories] = useState([{ id: 0, name: '', description: '' }])\r\n\r\n  function handleChange(e) {\r\n    setArticle({ ...newArticle, [e.target.id]: e.target.value });\r\n  }\r\n  useEffect(() => {\r\n    fetch('/api/categories',\r\n      {\r\n        headers:\r\n          { 'Content-Type': 'application/json' },\r\n        method: 'GET',\r\n      })\r\n      .then((response) => response.json()\r\n      )\r\n      .then((result) => {\r\n        setCategories(result)\r\n      })\r\n\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (newArticle.title == '' || newArticle.description == '' || newArticle.name == '' || newArticle.author == '') {\r\n      alert(\"Please complete the fields first\");\r\n      return;\r\n    }\r\n    else {\r\n      await fetch(`/api/article/new`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(newArticle),\r\n      })\r\n        .then((response) => response.json())\r\n\r\n        .then((data) => {\r\n          alert(data.message)\r\n          if (data.status) {\r\n            navigate('/articles')\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  const categoriesList = categories.map((category) => {\r\n    return (\r\n      <MenuItem name='name' id='name' key={category.name} value={category.name}>{category.name}</MenuItem>\r\n    )\r\n  })\r\n\r\n  return (\r\n\r\n    <div>\r\n      <h1 style={{ textAlign: \"center\", font: 14 }}>Add a new Article</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <Box\r\n          m=\"auto\"\r\n          sx={{\r\n            width: 200,\r\n            height: 400,\r\n          }}\r\n        >\r\n          <div>\r\n            <FormControl margin=\"normal\">\r\n              <InputLabel htmlFor=\"title\">Enter Title: </InputLabel>\r\n              <Input\r\n                id=\"title\"\r\n                multiline\r\n                value={newArticle.title || \"\"}\r\n                onChange={handleChange}\r\n                label=\"title\"\r\n                variant='outlined'\r\n                size='large'\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\">\r\n              <InputLabel htmlFor=\"description\">Enter Description:</InputLabel>\r\n              <Input\r\n                id=\"description\"\r\n                multiline\r\n                value={newArticle.description || \"\"}\r\n                onChange={handleChange}\r\n                label=\"description\"\r\n                variant=\"filled\"\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\">\r\n              <InputLabel htmlFor=\"author\">Enter Author's name: </InputLabel>\r\n              <Input\r\n                id=\"author\"\r\n                label=\"author\"\r\n                value={newArticle.author || \"\"}\r\n                onChange={handleChange}\r\n                size=\"small\"\r\n                variant='outlined'\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\">\r\n              <InputLabel htmlFor='name'>Category</InputLabel>\r\n              <Select\r\n                id=\"name\"\r\n                labelId=\"name\"\r\n                autoWidth\r\n                value={newArticle.name}\r\n                defaultValue=\"\"\r\n                style={{ width: 200 }}\r\n                onChange={handleChange}\r\n              >\r\n                {categoriesList}\r\n              </Select>\r\n            </FormControl>\r\n\r\n\r\n          </div>\r\n\r\n          <Button\r\n            type=\"\"\r\n            style={{ marginRight: 38 }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => handleSubmit(e)}\r\n          >\r\n            Save\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"error\"\r\n            onClick={() => {\r\n              navigate(\"/articles\");\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </Box>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}